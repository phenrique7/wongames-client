---
import Button from "../button/button.astro";
import MailIcon from "../../icons/mail-icon.astro";
import { css } from "../../../../styled-system/css";
import MagicIcon from "../../icons/magic-icon.astro";
import TextField from "../text-field/text-field.astro";
import GithubIcon from "../../icons/github-icon.astro";
import { flex, vstack } from "../../../../styled-system/patterns";

type Props = {
  page: "sign-up" | "sign-in";
};

const { page } = Astro.props;
---

<form>
  <div class={vstack({ gap: 4, alignItems: "stretch", mb: 9 })}>
    <Button variant="github" type="button">
      <GithubIcon slot="icon" />Continue with GitHub
    </Button>
    <span
      class={flex({
        fontSize: "sm",
        alignItems: "center",
        _before: {
          mr: 3,
          flex: 1,
          content: '""',
          height: "1px",
          width: "100%",
          backgroundColor: "#DBDCDF",
        },
        _after: {
          ml: 3,
          flex: 1,
          content: '""',
          height: "1px",
          width: "100%",
          backgroundColor: "#DBDCDF",
        },
      })}>or</span>
    <TextField placeholder="Email">
      <MailIcon color="#969696" slot="left-element" />
    </TextField>
  </div>
  <Button>Sign {page === "sign-up" ? "up" : "in"} with email</Button>
</form>
<div
  class={flex({
    mt: 8,
    p: 1.5,
    fontSize: "xs",
    align: "center",
    borderRadius: "md",
    height: { base: 20, md: 14 },
    backgroundColor: "rgba(255, 114, 95, 0.125)",
  })}
>
  <span class={css({ mx: 3 })}><MagicIcon color="#FF725F" /></span>
  <p>
    Weâ€™ll email you a magic code for a password-free sign {
      page === "sign-up" ? "up" : "in"
    }. Or you can
    <span
      role="link"
      tabindex="0"
      @click="toggleAuthType"
      @keyup.enter="toggleAuthType"
      class={css({
        fontWeight: "semibold",
        cursor: "pointer",
        _hover: {
          textDecoration: "underline",
        },
        _focus: {
          outline: "3px solid rgba(255, 114, 95, 0.7)",
        },
      })}
    >
      sign {page === "sign-up" ? "up" : "in"} with password instead</span>.
  </p>
</div>
